<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="fav.ico">
  <title>Pedro Spinner</title>


  <!-- HTML2Canvasì™€ GIF.js ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gif.js/0.2.0/gif.js"></script>

  <!-- CSS íŒŒì¼ ë§í¬ -->
  <link rel="stylesheet" href="app.css">

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      document.getElementById('download').click();
    });

    function loadFile(input) {
      let file = input.files[0]; // ì„ íƒ íŒŒì¼ ê°€ì ¸ì˜¤ê¸°

      let container = document.getElementById('image-show');
      container.innerHTML = ''; // ì´ì „ ì´ë¯¸ì§€ ì‚­ì œ

      let newImage = document.createElement("img"); // ìƒˆ ì´ë¯¸ì§€ íƒœê·¸ ìƒì„±
      newImage.style.width = "100%"; // divì— ê½‰ì°¨ê²Œ ë„£ìœ¼ë ¤ê³ 
      newImage.style.height = "100%";
      newImage.style.objectFit = "cover"; // divì— ë„˜ì¹˜ì§€ ì•Šê³  ë“¤ì–´ê°€ê²Œ

      // ì´ë¯¸ì§€ ì†ŒìŠ¤ ê°€ì ¸ì˜¤ê¸°
      newImage.src = URL.createObjectURL(file);

      // ìƒˆ ì´ë¯¸ì§€ë¥¼ ì¶”ê°€
      container.appendChild(newImage);
    }
/**
    // HTML ìš”ì†Œë¥¼ ìº¡ì²˜í•˜ê³  GIFë¡œ ì €ì¥í•˜ëŠ” í•¨ìˆ˜
    function captureAndSaveAsGif(element, filename, options) {
      // HTML ìš”ì†Œë¥¼ ìº¡ì²˜
      html2canvas(element, options).then(function (canvas) {
        // GIF ìƒì„±ê¸° ìƒì„±
        var gif = new GIF({
          workers: 2,
          quality: 10,
          width: canvas.width,
          height: canvas.height
        });

        // GIFì— í”„ë ˆì„ ì¶”ê°€
        gif.addFrame(canvas, {
          delay: 200
        }); // ë”œë ˆì´ëŠ” í”„ë ˆì„ ê°„ì˜ ì‹œê°„ ê°„ê²©ì…ë‹ˆë‹¤. í•„ìš”ì— ë”°ë¼ ì¡°ì ˆí•˜ì„¸ìš”.

        // GIF ìƒì„± ì™„ë£Œ ì´ë²¤íŠ¸ ì²˜ë¦¬
        gif.on('finished', function (blob) {
          // GIFë¥¼ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.
          var url = URL.createObjectURL(blob);
          var a = document.createElement('a');
          a.href = url;
          a.download = filename + '.gif';
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
        });

        // GIF ë Œë”ë§ ì‹œì‘
        gif.render();
      }); 
    } **/
  </script>
</head>

<body>
  <form class="inputImg" method="post" enctype="multipart/form-data">
    <div class="button">
      <label for="chooseFile">
        ğŸ‘‰ File Upload For Spin! ğŸ‘ˆ
      </label>
    </div>
    <input type="file" id="chooseFile" name="chooseFile" accept="image/*" onchange="loadFile(this)">
  </form>

  <!-- <form class="gifDownload">
    <div class="button">
      <label for="download">
        ğŸ‘‰ Gif Download For Spin! ğŸ‘ˆ
      </label>
    </div>
    <input type="button" id="download" name="download" onclick="captureAndSaveAsGif(document.getElementById('image-show'), 'animation', { scale: 1 })">

  </form> -->

  <div class="spinner" id="image-show">
    <!--<img
    src="pedro.png"
    alt="Pedro!"
  >-->
  </div>
</body>

</html>
